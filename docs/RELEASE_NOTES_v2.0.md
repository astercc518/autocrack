# AutoCrack v2.0 - 企业级功能发布说明

## 🎉 重大更新概述

AutoCrack v2.0 是一个里程碑式的更新，将原有的单用户撞库工具升级为**企业级安全测试平台**。本次更新新增了四个核心企业级功能模块，大幅提升了工具的安全性、可管理性和团队协作能力。

## 🆕 新增核心功能

### 1. 🔐 用户权限管理系统
**将单用户工具升级为多用户平台**

#### 核心特性
- **JWT令牌认证** - 安全的无状态认证机制
- **RBAC权限模型** - 基于角色的访问控制
- **四级用户角色** - 管理员、管理者、操作员、查看者
- **18种细粒度权限** - 精确控制用户操作范围
- **安全审计日志** - 完整的用户行为记录

#### 技术实现
```javascript
// API接口示例
POST /api/auth/login          // 用户登录
GET  /api/auth/profile        // 获取用户信息
POST /api/auth/register       // 用户注册（需管理员权限）
```

#### 安全特性
- 密码哈希加密存储
- 账户锁定机制（5次失败后锁定）
- 会话管理和令牌过期控制
- 登录行为审计和异常检测

### 2. 🧹 数据清洗功能
**提升攻击数据质量，增强测试效果**

#### 清洗能力
- **URL清洗** - 格式验证、协议标准化、去重处理
- **凭据清洗** - 黑名单过滤、格式验证、组合去重
- **代理清洗** - IP验证、端口检查、协议标准化

#### 技术特性
- **智能去重算法** - 基于MD5哈希的高效去重
- **批量处理** - 支持大量数据的并行清洗
- **格式验证** - 严格的数据格式校验和标准化
- **统计分析** - 详细的清洗报告和质量评估

#### API接口
```javascript
POST /api/data-clean/clean/urls        // 清洗URL数据
POST /api/data-clean/clean/credentials // 清洗凭据数据
POST /api/data-clean/batch/clean       // 批量清洗
```

### 3. 📋 数据分配管理
**智能资源调度，优化系统性能**

#### 管理能力
- **智能任务分配** - 基于负载均衡的自动分配
- **资源统一调度** - 代理、目标、线程资源统一管理
- **多优先级队列** - 高、中、低优先级任务队列
- **实时进度监控** - 任务状态和执行进度实时跟踪

#### 分配策略
- **负载均衡算法** - 动态负载检测和任务重分配
- **资源利用优化** - 最大化系统资源利用率
- **故障自动恢复** - 任务失败自动重分配
- **性能统计分析** - 分配效率和系统性能分析

#### API接口
```javascript
POST /api/data-distribution/tasks           // 创建分配任务
POST /api/data-distribution/tasks/auto-assign // 自动分配
GET  /api/data-distribution/stats           // 获取分配统计
```

### 4. 📊 数据反馈收集
**全方位监控分析，提升测试效率**

#### 收集范围
- **攻击结果反馈** - 成功率、失败原因、响应时间
- **性能指标监控** - 系统负载、网络延迟、资源使用
- **代理效率分析** - 代理成功率、响应速度、稳定性
- **目标站点分析** - 站点响应特征、防护策略识别

#### 智能特性
- **实时数据收集** - 毫秒级数据采集和处理
- **智能告警系统** - 基于规则的自动异常检测
- **趋势分析报告** - 多维度数据分析和趋势预测
- **性能优化建议** - 基于数据的优化建议

#### API接口
```javascript
POST /api/data-feedback/collect/attack    // 收集攻击反馈
GET  /api/data-feedback/analyze/task/<id> // 分析任务性能
GET  /api/data-feedback/alerts            // 获取系统告警
```

## 🗄️ 数据库架构升级

### 新增数据表
- **用户权限表组** - 5张表支持完整的RBAC权限系统
- **数据分配表组** - 4张表实现智能任务分配和资源调度
- **反馈收集表组** - 4张表支持全面的数据收集和分析

### 数据模型设计
```sql
-- 用户权限核心表
users, roles, user_roles, role_permissions, login_logs

-- 数据分配核心表  
distribution_tasks, resource_allocations, task_queues, distribution_rules

-- 反馈收集核心表
attack_feedbacks, performance_metrics, system_alerts, feedback_summaries
```

## 🔧 技术架构升级

### 后端架构
- **模块化设计** - 每个功能独立模块，便于维护扩展
- **REST API标准** - 统一的API接口规范
- **ORM数据建模** - SQLAlchemy实现的完整数据建模
- **安全认证机制** - JWT + RBAC双重安全保障

### 新增组件
```
backend/
├── models/           # 数据模型（新增3个模块）
│   ├── user.py       # 用户权限模型
│   ├── distribution.py # 数据分配模型  
│   └── feedback.py   # 反馈收集模型
├── api/              # API接口（新增4个模块）
│   ├── auth.py       # 认证接口
│   ├── data_cleaning.py    # 数据清洗接口
│   ├── data_distribution.py # 数据分配接口
│   └── data_feedback.py    # 反馈收集接口
└── utils/            # 工具函数（新增3个模块）
    ├── data_cleaner.py     # 数据清洗工具
    ├── task_distributor.py # 任务分配器
    └── feedback_manager.py # 反馈管理器
```

## 🚀 部署和使用

### 快速部署
```bash
# 克隆项目
git clone https://github.com/astercc518/autocrack.git
cd autocrack

# 初始化新功能数据库
python backend/scripts/init_new_features.py

# Docker一键部署
docker-compose up -d
```

### 初始登录
- **管理员账户**: `admin` / `admin123`
- **⚠️ 重要**: 首次登录后请立即修改默认密码

### 新功能使用流程
1. **用户管理** - 创建不同角色的用户账户
2. **数据清洗** - 清洗和优化测试数据
3. **任务分配** - 智能分配测试任务和资源
4. **执行监控** - 实时监控攻击进度和效果
5. **结果分析** - 综合分析测试结果和性能数据

## 📈 性能提升

### 安全性提升
- **多用户隔离** - 完整的用户数据隔离
- **权限细分** - 18种不同权限类型的精细控制
- **审计日志** - 完整的操作记录和安全审计

### 效率提升
- **数据质量** - 智能清洗提升攻击数据质量
- **资源优化** - 智能分配优化资源利用率
- **实时监控** - 全方位性能监控和优化建议

### 管理效率
- **团队协作** - 支持多用户协同工作
- **自动化管理** - 智能任务分配和资源调度
- **数据驱动** - 基于数据的决策和优化

## 🎯 企业级特性

### 合规性
- **数据保护** - 完善的数据加密和隐私保护
- **访问控制** - 严格的权限管理和访问控制
- **审计追踪** - 完整的操作日志和审计轨迹

### 可扩展性
- **模块化架构** - 易于扩展和集成
- **API标准化** - 便于第三方系统集成
- **分布式支持** - 支持集群部署和水平扩展

### 运维友好
- **容器化部署** - Docker + Kubernetes支持
- **监控告警** - 完善的监控和告警机制
- **自动化运维** - 智能化的系统管理和维护

## 🔄 升级指南

### 从v1.x升级
1. **备份数据** - 备份现有的项目数据
2. **更新代码** - 获取最新的v2.0代码
3. **数据库升级** - 运行数据库升级脚本
4. **配置迁移** - 迁移和更新配置文件
5. **测试验证** - 验证所有功能正常工作

### 兼容性说明
- **API兼容** - 保持与v1.x API的向后兼容
- **数据兼容** - 原有数据完整保留和迁移
- **配置兼容** - 原有配置文件继续有效

## 📞 技术支持

### 获取帮助
- **文档中心** - 查看 `docs/` 目录下的详细文档
- **问题反馈** - 通过GitHub Issues报告问题
- **功能建议** - 通过GitHub Discussions提出建议

### 社区资源
- **项目主页** - https://github.com/astercc518/autocrack
- **在线文档** - 完整的使用指南和API文档
- **示例代码** - 丰富的使用示例和最佳实践

---

**🎉 AutoCrack v2.0 - 让安全测试更专业、更高效、更安全！**